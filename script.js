// Übersetzungen - "Anmeldung" durch "Vermittlungsanfrage" ersetzt
const translations={'deutsch':{title:'VABO-Vermittlungsanfrage',subtitle:'Vorqualifizierungsjahr Arbeit/Beruf ohne Deutschkenntnisse',personalData:'Persönliche Daten',name:'Vollständiger Name',birthdate:'Geburtsdatum',address:'Adresse',street:'Straße und Hausnummer',city:'Stadt',zipcode:'Postleitzahl',phone:'Telefonnummer',email:'E-Mail-Adresse',germanSkills:'Deutschkenntnisse',germanNone:'Keine Deutschkenntnisse',germanLow:'Geringe Kenntnisse (A1)',germanMedium:'Mittlere Kenntnisse (A2-B1)',germanLiteracy:'Ich benötige Alphabetisierung',education:'Bisherige Schulbildung',educationPlaceholder:'Bitte beschreiben Sie Ihre bisherige Schulbildung',schoolChoice:'Schulwahl',schoolChoiceLabel:'Wählen Sie eine Schule',documents:'Benötigte Dokumente',idDocument:'Ausweis oder Pass',residenceConfirmation:'Meldebestätigung',choose:'Datei auswählen',noFile:'Keine Datei ausgewählt',submit:'Vermittlungsanfrage absenden',required:'Pflichtfeld',alertInfo:'Bitte füllen Sie alle Pflichtfelder aus. Die benötigten Dokumente senden Sie bitte als Anhänge per E-Mail mit.'},'english':{title:'VABO Referral Request',subtitle:'Pre-Qualification Year for Work/Vocational Training without German Language Skills',personalData:'Personal Information',name:'Full Name',birthdate:'Date of Birth',address:'Address',street:'Street and House Number',city:'City',zipcode:'Postal Code',phone:'Phone Number',email:'Email Address',germanSkills:'German Language Skills',germanNone:'No German skills',germanLow:'Basic skills (A1)',germanMedium:'Intermediate skills (A2-B1)',germanLiteracy:'I need literacy training',education:'Previous Education',educationPlaceholder:'Please describe your previous education',schoolChoice:'School Selection',schoolChoiceLabel:'Select a school',documents:'Required Documents',idDocument:'ID Card or Passport',residenceConfirmation:'Registration Certificate',choose:'Choose file',noFile:'No file selected',submit:'Submit Referral Request',required:'Required field',alertInfo:'Please fill in all required fields. Send the required documents as email attachments.'},'ukrainian':{title:'Запит на направлення VABO',subtitle:'Підготовчий рік до роботи/професійного навчання без знання німецької мови',personalData:'Особисті дані',name:"Повне ім'я",birthdate:'Дата народження',address:'Адреса',street:'Вулиця та номер будинку',city:'Місто',zipcode:'Поштовий індекс',phone:'Номер телефону',email:'Електронна адреса',germanSkills:'Знання німецької мови',germanNone:'Без знання німецької',germanLow:'Базові знання (A1)',germanMedium:'Середній рівень (A2-B1)',germanLiteracy:'Мені потрібне навчання грамоті',education:'Попередня освіта',educationPlaceholder:'Будь ласка, опишіть вашу попередню освіту',schoolChoice:'Вибір школи',schoolChoiceLabel:'Виберіть школу',documents:'Необхідні документи',idDocument:'Посвідчення особи або паспорт',residenceConfirmation:'Підтвердження реєстрації',choose:'Вибрати файл',noFile:'Файл не вибрано',submit:'Надіслати запит',required:"Обов'язкове поле",alertInfo:"Будь ласка, заповніть усі обов'язкові поля. Надішліть необхідні документи як вкладення електронною поштою."},'turkish':{title:'VABO Yerleştirme Talebi',subtitle:'Almanca Bilgisi Olmayan Öğrenciler İçin Mesleki Hazırlık Yılı',personalData:'Kişisel Bilgiler',name:'Tam Adı',birthdate:'Doğum Tarihi',address:'Adres',street:'Sokak ve Kapı Numarası',city:'Şehir',zipcode:'Posta Kodu',phone:'Telefon Numarası',email:'E-posta Adresi',germanSkills:'Almanca Bilgisi',germanNone:'Almanca bilgim yok',germanLow:'Temel seviye (A1)',germanMedium:'Orta seviye (A2-B1)',germanLiteracy:'Okuma yazma eğitimine ihtiyacım var',education:'Önceki Eğitim',educationPlaceholder:'Lütfen önceki eğitiminizi açıklayın',schoolChoice:'Okul Seçimi',schoolChoiceLabel:'Bir okul seçin',documents:'Gerekli Belgeler',idDocument:'Kimlik veya Pasaport',residenceConfirmation:'İkamet Belgesi',choose:'Dosya seç',noFile:'Dosya seçilmedi',submit:'Talebi Gönder',required:'Zorunlu alan',alertInfo:'Lütfen tüm zorunlu alanları doldurun. Gerekli belgeleri e-posta eki olarak gönderin.'},'arabic':{title:'طلب إحالة VABO',subtitle:'سنة التأهيل المهني للعمل بدون معرفة اللغة الألمانية',personalData:'البيانات الشخصية',name:'الاسم الكامل',birthdate:'تاريخ الميلاد',address:'العنوان',street:'الشارع ورقم المنزل',city:'المدينة',zipcode:'الرمز البريدي',phone:'رقم الهاتف',email:'البريد الإلكتروني',germanSkills:'معرفة اللغة الألمانية',germanNone:'لا توجد معرفة بالألمانية',germanLow:'معرفة أساسية (A1)',germanMedium:'معرفة متوسطة (A2-B1)',germanLiteracy:'أحتاج إلى تعليم القراءة والكتابة',education:'التعليم السابق',educationPlaceholder:'يرجى وصف تعليمك السابق',schoolChoice:'اختيار المدرسة',schoolChoiceLabel:'اختر مدرسة',documents:'المستندات المطلوبة',idDocument:'بطاقة الهوية أو جواز السفر',residenceConfirmation:'شهادة التسجيل',choose:'اختر ملف',noFile:'لم يتم اختيار ملف',submit:'إرسال الطلب',required:'حقل إلزامي',alertInfo:'يرجى ملء جميع الحقول المطلوبة. أرسل المستندات المطلوبة كمرفقات بالبريد الإلكتروني.'},'romanian':{title:'Cerere de trimitere VABO',subtitle:'An pregătitor pentru muncă/formare profesională fără cunoștințe de germană',personalData:'Date personale',name:'Nume complet',birthdate:'Data nașterii',address:'Adresă',street:'Strada și numărul',city:'Oraș',zipcode:'Cod poștal',phone:'Număr de telefon',email:'Adresă de email',germanSkills:'Cunoștințe de germană',germanNone:'Fără cunoștințe de germană',germanLow:'Cunoștințe de bază (A1)',germanMedium:'Cunoștințe medii (A2-B1)',germanLiteracy:'Am nevoie de alfabetizare',education:'Educație anterioară',educationPlaceholder:'Vă rugăm să descrieți educația anterioară',schoolChoice:'Alegerea școlii',schoolChoiceLabel:'Alegeți o școală',documents:'Documente necesare',idDocument:'Carte de identitate sau pașaport',residenceConfirmation:'Certificat de înregistrare',choose:'Alegeți fișier',noFile:'Niciun fișier selectat',submit:'Trimite cererea',required:'Câmp obligatoriu',alertInfo:'Vă rugăm să completați toate câmpurile obligatorii. Trimiteți documentele necesare ca atașamente prin email.'}};let currentLanguage='deutsch';function changeLanguage(lang){if(!translations[lang])return;currentLanguage=lang;const t=translations[lang];document.querySelectorAll('[data-translate]').forEach(el=>{const key=el.getAttribute('data-translate');if(t[key]){if(el.tagName==='INPUT'&&el.type!=='radio'){el.placeholder=t[key]}else{el.textContent=t[key]}}});document.querySelectorAll('.language-switcher button').forEach(btn=>btn.classList.remove('active'));event.target.classList.add('active');document.querySelector('main').style.direction=lang==='arabic'?'rtl':'ltr'}function displayFileName(input,displayId){const display=document.getElementById(displayId);if(input.files&&input.files[0]){display.textContent=input.files[0].name}else{display.textContent=translations[currentLanguage].noFile}}function validateForm(formId){const form=document.getElementById(formId);const requiredFields=form.querySelectorAll('[required]');let isValid=true;requiredFields.forEach(field=>{if(!field.value.trim()){field.style.borderColor='var(--error-red)';isValid=false}else{field.style.borderColor='var(--border-color)'}});const radioGroups=form.querySelectorAll('.radio-group[data-required="true"]');radioGroups.forEach(group=>{const radios=group.querySelectorAll('input[type="radio"]');const isChecked=Array.from(radios).some(radio=>radio.checked);if(!isChecked){group.style.outline='2px solid var(--error-red)';isValid=false}else{group.style.outline='none'}});return isValid}function generatePDF(formId,formType){if(!validateForm(formId)){alert('Bitte füllen Sie alle Pflichtfelder aus!');return}const form=document.getElementById(formId);const formData=new FormData(form);const{jsPDF}=window.jspdf;const doc=new jsPDF();doc.setFontSize(16);doc.text(`VERMITTLUNGSANFRAGE ${formType.toUpperCase()}`,20,20);doc.setFontSize(10);doc.text('='.repeat(80),20,25);let yPos=35;doc.setFontSize(11);for(let[key,value]of formData.entries()){if(value instanceof File){if(value.size>0){doc.text(`${key}: ${value.name}`,20,yPos);yPos+=7}}else if(value){doc.text(`${key}: ${value}`,20,yPos);yPos+=7}if(yPos>270){doc.addPage();yPos=20}}yPos+=10;doc.setFontSize(10);doc.text('WICHTIG:',20,yPos);yPos+=7;doc.text('Bitte senden Sie diese Vermittlungsanfrage zusammen mit den',20,yPos);yPos+=5;doc.text('erforderlichen Dokumenten als E-Mail-Anhänge an:',20,yPos);yPos+=7;doc.setFontSize(12);doc.setTextColor(0,86,163);doc.text('meldestelle-bs@stuttgart.de',20,yPos);doc.save(`vermittlungsanfrage_${formType}_${new Date().toISOString().split('T')[0]}.pdf`);showModal()}function showModal(){const modal=document.getElementById('successModal');modal.classList.add('active');modal.addEventListener('click',function(e){if(e.target===modal||e.target.classList.contains('btn')){modal.classList.remove('active')}})}function closeModal(){document.getElementById('successModal').classList.remove('active')}document.addEventListener('DOMContentLoaded',function(){const fileInputs=document.querySelectorAll('input[type="file"]');fileInputs.forEach(input=>{input.addEventListener('change',function(){const displayId=this.getAttribute('data-display');if(displayId)displayFileName(this,displayId)})});const forms=document.querySelectorAll('form[data-form-type]');forms.forEach(form=>{form.addEventListener('submit',function(e){e.preventDefault();generatePDF(this.id,this.getAttribute('data-form-type'))})})});
